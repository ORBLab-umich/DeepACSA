<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deep_ACSA package &mdash; DeepACSA 0.2.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Deep_ACSA.gui_helpers package" href="Deep_ACSA.gui_helpers.html" />
    <link rel="prev" title="Contributing" href="contribute.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DeepACSA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="modules.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#usage-guidelines">Usage Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#contributing-guidelines">Contributing Guidelines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html#documentation">Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Deep_ACSA package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Deep_ACSA.gui_helpers.html">Deep_ACSA.gui_helpers package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-Deep_ACSA.deep_acsa_gui">Deep_ACSA.deep_acsa_gui module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DeepACSA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">Installation</a></li>
      <li class="breadcrumb-item active">Deep_ACSA package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Deep_ACSA.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="deep-acsa-package">
<h1>Deep_ACSA package<a class="headerlink" href="#deep-acsa-package" title="Permalink to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="Deep_ACSA.gui_helpers.html">Deep_ACSA.gui_helpers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#module-Deep_ACSA.gui_helpers.apo_model">Deep_ACSA.gui_helpers.apo_model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.ApoModel"><code class="docutils literal notranslate"><span class="pre">ApoModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.ApoModel.postprocess_image"><code class="docutils literal notranslate"><span class="pre">ApoModel.postprocess_image()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.ApoModel.predict"><code class="docutils literal notranslate"><span class="pre">ApoModel.predict()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.ApoModel.predict_e"><code class="docutils literal notranslate"><span class="pre">ApoModel.predict_e()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.ApoModel.predict_m"><code class="docutils literal notranslate"><span class="pre">ApoModel.predict_m()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.ApoModel.predict_s"><code class="docutils literal notranslate"><span class="pre">ApoModel.predict_s()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.IoU"><code class="docutils literal notranslate"><span class="pre">IoU()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.arcLength"><code class="docutils literal notranslate"><span class="pre">arcLength()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.apo_model.findContours"><code class="docutils literal notranslate"><span class="pre">findContours()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#module-Deep_ACSA.gui_helpers.calculate_muscle_volume">Deep_ACSA.gui_helpers.calculate_muscle_volume module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#functions-scope">Functions scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.calculate_muscle_volume.muscle_volume_calculation"><code class="docutils literal notranslate"><span class="pre">muscle_volume_calculation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#module-Deep_ACSA.gui_helpers.calibrate">Deep_ACSA.gui_helpers.calibrate module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#id3">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#id4">Functions scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.calibrate.calibrate_distance_efov"><code class="docutils literal notranslate"><span class="pre">calibrate_distance_efov()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.calibrate.calibrate_distance_manually"><code class="docutils literal notranslate"><span class="pre">calibrate_distance_manually()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.calibrate.calibrate_distance_static"><code class="docutils literal notranslate"><span class="pre">calibrate_distance_static()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.calibrate.draw_the_lines"><code class="docutils literal notranslate"><span class="pre">draw_the_lines()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.calibrate.mclick"><code class="docutils literal notranslate"><span class="pre">mclick()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.calibrate.region_of_interest"><code class="docutils literal notranslate"><span class="pre">region_of_interest()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#module-Deep_ACSA.gui_helpers.echo_int">Deep_ACSA.gui_helpers.echo_int module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#id20">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#id21">Functions scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.echo_int.calculate_echo_int"><code class="docutils literal notranslate"><span class="pre">calculate_echo_int()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#module-Deep_ACSA.gui_helpers.model_training">Deep_ACSA.gui_helpers.model_training module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#id25">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#id26">Functions scope</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#id27">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.IoU"><code class="docutils literal notranslate"><span class="pre">IoU()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.build_vgg16_unet"><code class="docutils literal notranslate"><span class="pre">build_vgg16_unet()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.conv_block"><code class="docutils literal notranslate"><span class="pre">conv_block()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.decoder_block"><code class="docutils literal notranslate"><span class="pre">decoder_block()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.dice_score"><code class="docutils literal notranslate"><span class="pre">dice_score()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.focal_loss"><code class="docutils literal notranslate"><span class="pre">focal_loss()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.loadImages"><code class="docutils literal notranslate"><span class="pre">loadImages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.model_training.trainModel"><code class="docutils literal notranslate"><span class="pre">trainModel()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#module-Deep_ACSA.gui_helpers.predict_muscle_area">Deep_ACSA.gui_helpers.predict_muscle_area module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.calc_area"><code class="docutils literal notranslate"><span class="pre">calc_area()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.calc_area_efov"><code class="docutils literal notranslate"><span class="pre">calc_area_efov()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.calculate_batch"><code class="docutils literal notranslate"><span class="pre">calculate_batch()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.calculate_batch_efov"><code class="docutils literal notranslate"><span class="pre">calculate_batch_efov()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.compile_save_results"><code class="docutils literal notranslate"><span class="pre">compile_save_results()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.get_list_of_files"><code class="docutils literal notranslate"><span class="pre">get_list_of_files()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.import_image"><code class="docutils literal notranslate"><span class="pre">import_image()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#Deep_ACSA.gui_helpers.predict_muscle_area.import_image_efov"><code class="docutils literal notranslate"><span class="pre">import_image_efov()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Deep_ACSA.gui_helpers.html#module-Deep_ACSA.gui_helpers">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
<section id="module-Deep_ACSA.deep_acsa_gui">
<span id="deep-acsa-deep-acsa-gui-module"></span><h3>Deep_ACSA.deep_acsa_gui module<a class="headerlink" href="#module-Deep_ACSA.deep_acsa_gui" title="Permalink to this heading"></a></h3>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h4>
<p>This module contains a class with methods to automatically and manually annotate
transversal ultrasonography images. When the class is initiated,
a graphical user interface is opened. This is the main GUI of the DeepACSA package.
From here, the user is able to navigate all functionalities of the package.
These extend the methods in this class. The main functionalities of the GUI contained
in this module are automatic and manual evalution of muscle ultrasonography images.
Inputted images are analyzed and the parameter muscle anatomical cross-sectional area is
returned for each image.
The parameters are analyzed using convolutional neural networks (U-net, VGG16).
This module and all submodules contained in the /gui_helpers modality are extensions
and improvements of the work presented in Ritsche et al. (2022). There, the core functionalities
of this code are already outlined and the comparability of the model segmentations to
manual analysis (current gold standard) is described. Here, we have improved the code.</p>
</section>
<section id="functions-scope">
<h4>Functions scope<a class="headerlink" href="#functions-scope" title="Permalink to this heading"></a></h4>
<p>For scope of the functions see class documentation.</p>
</section>
<section id="notes">
<h4>Notes<a class="headerlink" href="#notes" title="Permalink to this heading"></a></h4>
<p>Additional information and usage exaples can be found in the video
tutorials provided for this package.</p>
</section>
<section id="references">
<h4>References<a class="headerlink" href="#references" title="Permalink to this heading"></a></h4>
<p>VGG16: Simonyan, K., and Zisserman, A. “Very deep convolutional networks for large-scale image recognition.” arXiv preprint arXiv:1409.1556 (2014)
U-net: Ronneberger, O., Fischer, P. and Brox, T. “U-Net: Convolutional Networks for Biomedical Image Segmentation.” arXiv preprint arXiv:1505.04597 (2015)
DeepACSA: Ritsche, P., Wirth, P., Cronin, N., Sarto, F., Narici, M., Faude, O., Franchi, M. “DeepACSA: Automatic Segmentation of Cross-Sectional Area in Ultrasound Images of Lower Limb Muscles Using Deep Learning” (2022)</p>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Deep_ACSA.deep_acsa_gui.</span></span><span class="sig-name descname"><span class="pre">DeepACSA</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Python class to automatically or manually annotate tranversal muscle
ultrasonography images of human lower limb muscles.
An analysis tkinter GUI is opened upon initialization of the class.
By clicking the buttons, the user can switch between image analysis and model training.
The GUI consistsof the following elements.
- Input Directory:
By pressing the “Input” button, the user is asked to select
an input directory containing all images to be
analyzed. This can also be entered directly in the entry field.
- Apo Model Path:
By pressing the “Apo Model” button, the user is asked to select
the aponeurosis model used for aponeurosis segmentation. The absolute
model path can be entered directly in the enty field as well.
- Break:
By pressing the “break” button, the user is able to stop the analysis process
after each finished image or image frame analysis.
- Run:
By pressing the “run” button, the user can start the analysis process.
- Model training:
By pressing the “train model” button, a new window opens and the
user can train an own neural network based on existing/own
training data.</p>
<section id="attributes">
<h4>Attributes<a class="headerlink" href="#attributes" title="Permalink to this heading"></a></h4>
<dl class="simple">
<dt>self._lock<span class="classifier">_thread.lock</span></dt><dd><p>Thread object to lock the self._lock variable for access by another thread.</p>
</dd>
<dt>self._is_running<span class="classifier">bool, default = False</span></dt><dd><p>Boolen variable determining the active state
of the GUI. If False, the is not running. If True
the GUI is running.</p>
</dd>
<dt>self._should_stop<span class="classifier">bool, default = False</span></dt><dd><p>Boolen variable determining the active state
of the GUI. If False, the is allowed to continue running. If True
the GUI is stopped and background processes deactivated.</p>
</dd>
<dt>self.main<span class="classifier">tk.TK</span></dt><dd><p>tk.TK instance which is the base frame for the GUI.</p>
</dd>
<dt>self.input<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the path to the input directory.</p>
</dd>
<dt>self.model<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the path to the aponeurosis
model.</p>
</dd>
<dt>self.scaling<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the selected scaling type.
This can be “bar”, “manual” or “no scaling”.</p>
</dd>
<dt>self.muscle_volume_calculation_wanted<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariale defining whether the muscle volume
should be calculated.
This can be “yes” or “no”.</p>
</dd>
<dt>self.filetype<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariabel containing the selected filetype for
the images to be analyzed. The user can select from the
dopdown list or enter an own filetype. The formatting
should be kept constant.</p>
</dd>
<dt>self.depth<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the selected image depth.
This must be according to the image depth used during
image acquisition.</p>
</dd>
<dt>self.spacing<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the selected spacing distance
used for computation of pixel / cm ratio. This must only be
specified when the analysis type “bar” or “manual” is selected.</p>
</dd>
<dt>self.distance<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the space between acquired images
along one muscle. The space must be given in mm.</p>
</dd>
<dt>self.train_image_dir<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Straingvar containing the path to the directory of the training images.
Image must be in RGB format.</p>
</dd>
<dt>self.mask_dir<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the path to the directory of the mask images.
Masks must be binary.</p>
</dd>
<dt>self.out_dir<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the path to the directory where the trained model
should be saved.</p>
</dd>
<dt>self.batch_size<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the batch size per iteration through the
network during model training. Must be non-negative and non-zero.</p>
</dd>
<dt>self.learning_rate<span class="classifier">tk.Stringvariable</span></dt><dd><p>tk.Stringvariable the learning rate used during model training.
Must be non-negative and non-zero.</p>
</dd>
<dt>self.epochs<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Straingvariable containing the amount of epochs that the model
is trained befor training is aborted. Must be non-negative and non-zero.</p>
</dd>
<dt>self.loss<span class="classifier">tk.Stringvar</span></dt><dd><p>tk.Stringvariable containing the loss function that is used during training.</p>
</dd>
</dl>
</section>
<section id="methods">
<h4>Methods<a class="headerlink" href="#methods" title="Permalink to this heading"></a></h4>
<dl class="simple">
<dt>get_root_dir</dt><dd><p>Instance method to ask the user to select the input directory.</p>
</dd>
<dt>get_model_path</dt><dd><p>Instance method to ask the user to select the apo model path.</p>
</dd>
<dt>run_code</dt><dd><p>Instance method to execute the analysis process when the
“run” button is pressed.</p>
</dd>
<dt>do_break</dt><dd><p>Instance method to break the analysis process when the
button “break” is pressed.</p>
</dd>
<dt>train_model_window</dt><dd><p>Instance method to open new window for model training.</p>
</dd>
<dt>get_train_dir</dt><dd><p>Instance method to ask the user to select the training image
directory path.</p>
</dd>
<dt>get_mask_dir</dt><dd><p>Instance method to ask the user to select the training mask
directory path.</p>
</dd>
<dt>get_output_dir</dt><dd><p>Instance method to ask the user to select the output
directory path.</p>
</dd>
<dt>train_model</dt><dd><p>Instance method to execute the model training when the
“start training” button is pressed.</p>
</dd>
</dl>
</section>
<section id="id1">
<h4>Notes<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h4>
<p>This class contains only instance attributes.
The instance methods contained in this class are solely purposed for
support of the main GUI instance method. They cannot be used
independantly or seperately.</p>
<p>For more detailed documentation of the functions employed
in this GUI upon running the analysis or starting model training
see the respective modules in the /gui_helpers subfolder.</p>
</section>
<section id="see-also">
<h4>See Also<a class="headerlink" href="#see-also" title="Permalink to this heading"></a></h4>
<p>model_training.py, predict_muscle_area.py</p>
<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.do_break">
<span class="sig-name descname"><span class="pre">do_break</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.do_break" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to break the analysis process when the
button “break” is pressed.</p>
<p>This changes the instance attribute self.should_stop
to True, given that the analysis is already running.
The attribute is checked befor every iteration
of the analysis process.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.get_mask_dir">
<span class="sig-name descname"><span class="pre">get_mask_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.get_mask_dir" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to ask the user to select the training mask
directory path. All mask files (of the same specified filetype) in
the directory are analysed.The mask files and the corresponding
image must have the exact same name. This must be an absolute path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.get_model_path">
<span class="sig-name descname"><span class="pre">get_model_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.get_model_path" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to ask the user to select the apo model path.
This must be an absolute path and the model must be a .h5 file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.get_output_dir">
<span class="sig-name descname"><span class="pre">get_output_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.get_output_dir" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to ask the user to select the output
directory path. Here, all file created during model
training (model file, weight file, graphs) are saved.
This must be an absolute path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.get_root_dir">
<span class="sig-name descname"><span class="pre">get_root_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.get_root_dir" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to ask the user to select the input directory.
All image files (of the same specified filetype) in
the input directory are analysed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.get_train_dir">
<span class="sig-name descname"><span class="pre">get_train_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.get_train_dir" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to ask the user to select the training image
directory path. All image files (of the same specified filetype) in
the directory are analysed. This must be an absolute path.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.is_running">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_running</span></span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.is_running" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to define the is_running
property getter method. By defining this as a property,
is_running is treated like a public attribute even
though it is private.</p>
<p>This is used to stop the analysis process running
in a seperate thread.</p>
<section id="returns">
<h5>Returns<a class="headerlink" href="#returns" title="Permalink to this heading"></a></h5>
<dl class="simple">
<dt>is_running<span class="classifier">bool</span></dt><dd><p>Boolean variable to check whether the analysis process
started from the GUI is running. The process is only
stopped when is_running = True.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.run_code">
<span class="sig-name descname"><span class="pre">run_code</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.run_code" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to execute the analysis process when the
“run” button is pressed.</p>
<p>Which analysis process is executed depends on the user
selection. By pressing the button, a seperate thread is started
in which the analysis is run. This allows the user to break any
analysis process. Moreover, the threading allows interaction
with the main GUI during ongoing analysis process. This function
handles most of the errors occuring during specification of
file and analysis parameters. All other exeptions are raised in
other function of this package.</p>
<section id="raises">
<h5>Raises<a class="headerlink" href="#raises" title="Permalink to this heading"></a></h5>
<dl class="simple">
<dt>AttributeError</dt><dd><p>The execption is raised when the user didn’t specify the
file or training parameters correctly. A tk.messagebox
is openend containing hints how to solve the issue.</p>
</dd>
<dt>FileNotFoundError</dt><dd><p>The execption is raised when the user didn’t specify the
file or training parameters correctly. A tk.messagebox
is openend containing hints how to solve the issue.</p>
</dd>
<dt>PermissionError</dt><dd><p>The execption is raised when the user didn’t specify the
file or training parameters correctly. A tk.messagebox
is openend containing hints how to solve the issue.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.should_stop">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">should_stop</span></span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.should_stop" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to define the should_stop
property getter method. By defining this as a property,
should_stop is treated like a public attribute even
though it is private.</p>
<p>This is used to stop the analysis process running
in a seperate thread.</p>
<section id="id2">
<h5>Returns<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h5>
<dl class="simple">
<dt>should_stop<span class="classifier">bool</span></dt><dd><p>Boolean variable to decide whether the analysis process
started from the GUI should be stopped. The process is
stopped when should_stop = True.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.train_model">
<span class="sig-name descname"><span class="pre">train_model</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.train_model" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to execute the model training when the
“start training” button is pressed.</p>
<p>By pressing the button, a seperate thread is started
in which the model training is run. This allows the user to break any
training process at certain stages. When the analysis can be
interrupted, a tk.messagebox opens asking the user to either
continue or terminate the analysis. Moreover, the threading allows interaction
with the GUI during ongoing analysis process.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.DeepACSA.train_model_window">
<span class="sig-name descname"><span class="pre">train_model_window</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.DeepACSA.train_model_window" title="Permalink to this definition"></a></dt>
<dd><p>Instance method to open new window for model training.
The window is opened upon pressing of the “analysis parameters”
button.</p>
<p>Several parameters are displayed.
- Image Directory:
The user must select or input the image directory. This
path must to the directory containing the training images.
Images must be in RGB format.
- Mask Directory:
The user must select or input the mask directory. This
path must to the directory containing the training images.
Masks must be binary.
- Output Directory:
The user must select or input the mask directory. This
path must lead to the directory where the trained model
and the model weights should be saved.
- Batch Size:
The user must input the batch size used during model training by
selecting from the dropdown list or entering a value.
Although a larger batch size has advantages during model trainig,
the images used here are large. Thus, the larger the batch size,
the more compute power is needed or the longer the training duration.
Integer, must be non-negative and non-zero.
- Learning Rate:
The user must enter the learning rate used for model training by
selecting from the dropdown list or entering a value.
Float, must be non-negative and non-zero.
- Epochs:
The user must enter the number of Epochs used during model training by
selecting from the dropdown list or entering a value.
The total amount of epochs will only be used if early stopping does not happen.
Integer, must be non-negative and non-zero.
- Loss Function:
The user must enter the loss function used for model training by
selecting from the dropdown list. These can be “BCE” (binary
cross-entropy), “Dice” (Dice coefficient) or “FL”(Focal loss).</p>
<p>Model training is started by pressing the “start training” button. Although
all parameters relevant for model training can be adapted, we advise users with
limited experience to keep the pre-defined settings. These settings are best
practice and devised from the original papers that proposed the models used
here. Singularly the batch size should be adapted to 1 if comupte power is limited
(no GPU or GPU with RAM lower than 8 gigabyte).</p>
</dd></dl>

</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Deep_ACSA.deep_acsa_gui.runMain">
<span class="sig-prename descclassname"><span class="pre">Deep_ACSA.deep_acsa_gui.</span></span><span class="sig-name descname"><span class="pre">runMain</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#Deep_ACSA.deep_acsa_gui.runMain" title="Permalink to this definition"></a></dt>
<dd><p>Function that enables usage of the gui from command promt
as pip package.</p>
<section id="id3">
<h4>Notes<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h4>
<p>The GUI can be executed by typing ‘python -m deep_acsa_gui.py’ in the command
subsequtently to installing the pip package´and activating the
respective library.</p>
<p>It is not necessary to download any files from the repository when the pip
package is installed.</p>
<p>For documentation of DL_Track see top of this module.</p>
</section>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="contribute.html" class="btn btn-neutral float-left" title="Contributing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Deep_ACSA.gui_helpers.html" class="btn btn-neutral float-right" title="Deep_ACSA.gui_helpers package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Paul Ritsche.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
